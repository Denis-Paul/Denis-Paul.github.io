<script type="module">
  import * as pdfjsLib from 'https://mozilla.github.io/pdf.js/build/pdf.mjs';
  pdfjsLib.GlobalWorkerOptions.workerSrc =
    'https://mozilla.github.io/pdf.js/build/pdf.worker.mjs';

  async function extractText(url) {
    const pdf = await pdfjsLib.getDocument(url).promise;
    let full = "";
    for (let i = 1; i <= pdf.numPages; i++) {
      const page = await pdf.getPage(i);
      const content = await page.getTextContent();
      const strings = content.items.map(it => it.str);
      full += strings.join(" ") + "\n\n";
    }
    return full;
  }

  extractText('/assets/Denis-Paul-CV-2025.pdf').then(text => {
    const lines = text.split('\n');
    const xp = lines.filter(l => /Developer|Company|202/.test(l));
    const container = document.getElementById('auto-experience');
    xp.forEach(l => {
      const p = document.createElement('p');
      p.textContent = l;
      container.appendChild(p);
    });
  });
</script>

<section id="experience">
  <h2>Experience</h2>
  <div id="auto-experience">
    <!-- extracted text will appear here -->
  </div>
</section>
